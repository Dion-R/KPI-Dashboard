const data = {
  jb: [
    {
      name: "Dion Riotto",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Dead",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Dead",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Dead",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },

    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
  ],
  rf: [
    {
      name: "Dion Riotto",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Anthony Mitchel",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Dead",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
    {
      name: "Susie Morales",
      date: "24/7/2022",
      status: "LOA sent to creditor",
      progress: "15%",
      commission: "$30.00",
      health: "Active",
    },
  ],
};

const companies = Object.keys(data);
const leadType = ["Active", "Dead"];

for (const lead of leadType) {
  const companyLeadsCount = [];
  for (const company of companies) {
    const activeLeadsCount = data[company].filter(
      (data) => data.health === lead
    ).length;
    companyLeadsCount.push([activeLeadsCount, company]);
  }
  for (const companyLeadCount of companyLeadsCount) {
    document.getElementById(companyLeadCount[1] + lead).innerText =
      companyLeadCount[0];
  };
};

for (const company of companies) {
  console.log(company + "Converted");
  console.log(data[company].length);
  document.getElementById(`${company}Converted`).innerText =
    data[company].length;
};

for (const company of companies) {
  const activeLeads = data[company].filter(
    (data) => data.health === "Active"
  ).length;
  let count = 0;
  const tiers = [44, 54, 64, 84, 100];
  for (const tier of tiers) {
    if (activeLeads >= tier) {
      count++;
    }
  }
  document.getElementById(company + "Level").innerText = count;
  if (count < tiers.length) {
    const nextLevel = tiers[count] - activeLeads;
    document.getElementById(company + "NextLevel").innerText = nextLevel;
  }
};

for (const company of companies) {
  const activeLeads = data[company].filter(
    (data) => data.health === "Active"
  ).length;
  let count = 0;
  const tiers = [44, 54, 64, 84, 100];
  const payouts = [30, 30, 32, 34, 36, 40];
  for (const tier of tiers) {
    if (activeLeads >= tier) {
      count++;
    }
  }
  const payout = payouts[count] * activeLeads;

  if (count === 0) {
    document.getElementById(company + "CommissionTitle").innerText =
      "Commission Unlocked at Level 1";
    document.getElementById(company + "Commission").innerText = `$${payout}.00`;
  } else {
    document.getElementById(company + "CommissionTitle").innerText =
      "Accrued Commission";
    document.getElementById(company + "Commission").innerText = `$${payout}.00`;
  }
}
